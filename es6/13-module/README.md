# 13 用模块封装代码

> 2019-01-05 @wsl

## 1. 模块的概念

模块是自动运行在严格模式下并且没有办法退出运行的 JavaScript 代码。在模块顶部创建的变量不会自动添加到全局共享作用域，这个变量仅在模块的顶级作用域中存在，而且模块必须导出一些外部代码可以访问的元素，如变量或函数。模块也可以从其他模块导入绑定。

模块还有两个特性需要知道，首先，在模块的顶部，this 的值是 undefined；其次，模块不支持 HTML 风格的代码注释。



## 2. 导出的基本语法

可以用 export 关键字将一部分已发布的代码暴露给其他模块，可以将 export 放在任何变量、函数或类声明的前面，以将它们从模块导出。

除非用 default 关键字，否则不能用这个语法导出匿名函数或类。

不必总是导出声明，可以导出引用。任何未显式导出的变量、函数或类都是模块私有的，无法从模块外部访问。

```javascript
// 导出变量
export var color = 'red';

// 导出函数
export function add(num1, num2) {
  return num1 + num2;
}

function multi(num1, num2) {
  return num1 * num2;
}

// 导出multi函数的引用
export multi;
```

