# 第二章 简单的HTTP协议

> 2018-10-19 @wsl

## 1. HTTP协议用于客户端和服务端之间的通信

客户端发出请求，服务端响应该请求并返回。

请求报文是由请求方法、请求URI、协议版本、可选的请求首部字段和内容实体构成的。

响应报文基本上由协议版本、状态码、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成。

 

## 2. HTTP是不保存状态的协议

HTTP/1.1虽然是无状态协议，但为了实现保持状态的功能，引入了Cookie技术。

 

## 3. 请求URI定位资源

 

## 4. HTTP方法

- GET：获取资源

  用来请求已被URI识别的资源。

- POST：传输实体主体、

  用来传输实体的主体。

- PUT：传输文件

  用来传输文件。

- HEAD：获得报文首部

  和GET方法一样，只是不返回报文主体部分。

- DELETE：删除文件

  用来删除文件，与PUT相反的方法。

- OPTIONS：询问支持的方法

  用来查询针对请求URI指定的资源支持的方法。

- TRACE：追踪路径

  让Web服务端将之前的请求通信返回给客户端。

- CONNECT：要求用隧道协议连接代理

  要求在与代理服务器通信时建立隧道，实现用隧道协议进行TCP通信。

 

## 5. 持久连接（HTTP Persistent Connections）

也称为 HTTP keep-alive 或 HTTP connection reuse

**特点**：只要任意一端没有明确提出断开连接，则保持TCP连接状态。

在HTTP/1.1中，所有的连接默认都是持久连接，但在HTTP/1.0内并未标准化。

持久连接使得多数请求以**管线化**方式发送成为可能。

 

## 6. Cookie

HTTP是无状态协议，不对之前发生过的请求和响应的状态进行管理。解决此类问题，引入Cookie技术。

Cookie技术通过在请求和响应报文中写入Cookie信息来控制客户端状态。

服务端发送响应报文（首部字段Set-Cookie） --> 客户端保存Cookie

客户端后续发送请求（存有Cookie信息状态） --> 服务端校验Cookie并响应